<h1>Title: [WIP] Sales goals frontend tech architecture</h1><h2 id="id-[WIP]Salesgoalsfrontendtecharchitecture-TableOfContents"><span style="color: rgb(0,0,255);">Table Of Contents</span></h2><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 28.9706%;"><colgroup><col/><col style="width: 89.0585%;"/></colgroup><tbody><tr><td class="numberingColumn confluenceTd" style="text-align: center;">1</td><td class="confluenceTd">Links &amp; Requirements</td></tr><tr><td class="numberingColumn confluenceTd" style="text-align: center;">2</td><td colspan="1" class="confluenceTd">Basic Overview</td></tr><tr><td class="numberingColumn confluenceTd" style="text-align: center;">3</td><td class="confluenceTd">Filters section</td></tr><tr><td class="numberingColumn confluenceTd" style="text-align: center;">4</td><td class="confluenceTd">Period Pickers (Week Picker, Month Picker, ...)</td></tr><tr><td class="numberingColumn confluenceTd" style="text-align: center;">5</td><td class="confluenceTd">Custom Roles</td></tr><tr><td class="numberingColumn confluenceTd" style="text-align: center;">6</td><td class="confluenceTd">Performance Optimisation</td></tr><tr><td class="numberingColumn confluenceTd" colspan="1" style="text-align: center;">7</td><td colspan="1" class="confluenceTd">Other Performance Optimisation that can be done</td></tr></tbody></table></div><h2 class="auto-cursor-target" id="id-[WIP]Salesgoalsfrontendtecharchitecture-Links"><span style="color: rgb(51,102,255);">Links</span></h2><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 58.75%;"><colgroup><col style="width: 29.0727%;"/><col style="width: 70.9273%;"/></colgroup><tbody><tr><td class="confluenceTd">PM Spec</td><td class="confluenceTd"><div class="content-wrapper"><p><a href="https://docs.google.com/document/d/1-wFtBxeawzRM1n5mDwzcVjtMp8lNyjjszItU1Qq7_-U/edit" class="external-link" rel="nofollow"><span class="ap-container ap-inline"><span class="uninitialized_lref_module ap-content ap-inline" data-context="{&quot;url&quot;:&quot;https://docs.google.com/document/d/1-wFtBxeawzRM1n5mDwzcVjtMp8lNyjjszItU1Qq7_-U/edit&quot;}" data-addon-key="com.bilith.lref.confluence-gdrive" data-module-key="lref-gdrive-file"></span></span></a></p></div></td></tr><tr><td class="confluenceTd">Freshrelease ticket</td><td class="confluenceTd"> <a href="https://freshworks.freshrelease.com/FSALES/issues/FSALES-8140" class="external-link" rel="nofollow">https://freshworks.freshrelease.com/FSALES/issues/FSALES-8140</a></td></tr><tr><td class="confluenceTd">Copy changes doc</td><td class="confluenceTd"><div class="content-wrapper"><p><a href="https://docs.google.com/presentation/d/1Ya3Ch3VLzRViuBWdQSUogEHEwk91g9NCDjDr3KJCWe0/edit#slide=id.g50e956bec3_0_136" class="external-link" rel="nofollow"><span class="ap-container ap-inline"><span class="uninitialized_lref_module ap-content ap-inline" data-context="{&quot;url&quot;:&quot;https://docs.google.com/presentation/d/1Ya3Ch3VLzRViuBWdQSUogEHEwk91g9NCDjDr3KJCWe0/edit#slide=id.g50e956bec3_0_136&quot;}" data-addon-key="com.bilith.lref.confluence-gdrive" data-module-key="lref-gdrive-file"></span></span></a></p></div></td></tr><tr><td colspan="1" class="confluenceTd">Invision</td><td colspan="1" class="confluenceTd"><a href="https://freshworks.invisionapp.com/d/main#/console/16632910/359504968/preview" class="external-link" rel="nofollow">https://freshworks.invisionapp.com/d/main#/console/16632910/359504968/preview</a></td></tr></tbody></table></div><h2 id="id-[WIP]Salesgoalsfrontendtecharchitecture-BasicOverview"><span style="color: rgb(51,102,255);">Basic Overview<br/></span></h2><p><span style="color: rgb(0,0,0);">Sales goals V1 provides basic goal tracking functionality based on won deal count and won deal amount for user and team goals with cards.<br/><br/></span></p><p>Sales goals is available for Garden, Estate and Forest Plan. (for which the required permissions are handled in the backend)</p><p><br/></p><p>1) Sales goal page starts of with a list view which is implemented similar to LCAD pages to prompt reusability of things.</p><p>2) Some features that are present in the LCAD list and not present in Sales goals are Column customisation, Bulk actions, form service</p><p>3) Full sticky filters with no search for filter section + no operators for filters <span style="color: rgb(165,173,186);">(only sales goals)</span></p><p>4) A filter text section that shows what filters has been applied <span style="color: rgb(165,173,186);">(only sales goals)</span></p><p>5) Cards section that uses the filters from list view and also has its own filters on top of it</p><p>6) We have New (Bulk creation is possible in few aspects), Edit, Clone</p><p>7) A Recalculate goal option that recalculates the goals attainment, the attainment calculation is automated but for past goals we won't recalculate attainment unless manually done for performance optimisation </p><p>8) New period pickers =&gt; Week picker, Month picker, Quarter Picker and Year Picker (everything works on the assumption of account time zone)<br/>     that is the default period selected will be based on account time zone. <br/>     Past periods are not allowed to be picked and are disabled</p><h2 id="id-[WIP]Salesgoalsfrontendtecharchitecture-Filterssection"><span style="color: rgb(51,102,255);">Filters section</span></h2><h4 id="id-[WIP]Salesgoalsfrontendtecharchitecture-Removesearchinfilters:"><span style="color: rgb(0,0,0);">Remove search in filters:</span></h4><p>Due to only few filters being present, in accordance with PM's call we have removed the search of filters and made all the filters sticky</p><h4 id="id-[WIP]Salesgoalsfrontendtecharchitecture-NewFilters:">New Filters:</h4><p>     We have introduced a new set of filters especially for sales goals from aesthetic point of view</p><ul><li>dropdown_no_op</li><li>multi_select_no_op</li><li>grouped_dropdown (used for owner_id_with_type basically owner id)</li><li>dynamic_dependent_dropdown (used for owner_type)</li></ul><p><strong><em>      dropdown_no_op and multi_select_no_op</em>:</strong></p><p>           These two filters are basically the same as dropdown and multi_select with operators defaulted to is and is_in respectively</p><p><em><strong>      dynamic_dependent_dropdown and grouped_dropdown:</strong><br/></em></p><p>           This is a very interesting set of drop-downs, this bring outs relationship between two filters in dropdown<br/>       <br/>           This provides a filter on grouped_dropdown depending on its parent which would be a dynamic_dependent_dropdown. Though a similar feature is present in the filters for deal pipeline and deal stage <br/>           relationship, its so specific and is not scalable. We have made a few changes to it to make it reusable and generic.</p><p>           <em><strong>How it works?</strong></em></p><p>           grouped_dropdown has a meta parameter called parent_attr, through which it gets the value of its parent attribute and filters itself based on a property called group_type that is present in the choices of <br/>           grouped_dropdown</p><p>            The filtering of grouped_dropdown will only happen when the parent dropdown changes or for the first time when component is rendered, we set a property called dependent_fields on the parent attribute <br/>            which will have a list of all attributes dependent on it (this is computed in the serializer); Once an attribute changes, it will check if there is any dependent_fields and then only it will start a computation.</p><h2 style="" id="id-[WIP]Salesgoalsfrontendtecharchitecture-Periodicpickers"><span style="color: rgb(51,102,255);">Periodic pickers<br/></span></h2><p><span style="color: rgb(51,102,255);">     <span style="color: rgb(0,51,102);">We have created a few new periodic pickers like week picker, month picker, quarter picker and year picker which is based on account time zone for the requirements<br/><br/></span></span></p><p><span style="color: rgb(51,102,255);"><span style="color: rgb(0,51,102);">     There was no third party addon we could use at the time, so we had to create them from scratch.<br/><br/>     </span></span></p><p><em><strong>            </strong></em></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p>