<h1>Title: Learning from email content</h1><h2 id="Learningfromemailcontent-NERFeature1:Extractcalendareventsfromfree-formemails">NER Feature 1: Extract calendar events from free-form emails</h2><h4 class="auto-cursor-target" id="Learningfromemailcontent-Team">Team</h4><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Role</th></tr><tr><td class="confluenceTd">Adarsh Dattatri</td><td class="confluenceTd">Lead Data Scientist</td></tr><tr><td colspan="1" class="confluenceTd">Aditi Balaji</td><td colspan="1" class="confluenceTd">PM</td></tr><tr><td colspan="1" class="confluenceTd">Swami</td><td colspan="1" class="confluenceTd">Lead</td></tr><tr><td colspan="1" class="confluenceTd">Sudarshan</td><td colspan="1" class="confluenceTd">Engineering</td></tr></tbody></table></div><p><br/></p><h3 id="Learningfromemailcontent-Problem">Problem</h3><p>Extract calendar events from free-form emails and autofill in Freshsales calendar </p><p><br/></p><h3 id="Learningfromemailcontent-Solution">Solution</h3><p>Use facebook duckling to extract datetime text, detect meeting intent by using NLU models</p><p><br/></p><h3 id="Learningfromemailcontent-KeyResults">Key Results</h3><p>Evaluated duckling output on ~50k contact emails across 4 accounts </p><h5 id="Learningfromemailcontent-Sampleoutput:">Sample output:</h5><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Email received</th><th class="confluenceTh">Duckling output</th><th colspan="1" class="confluenceTh">Result</th></tr><tr><td class="confluenceTd"><pre>Could we move it to 2:30 at all?</pre></td><td class="confluenceTd">NULL</td><td colspan="1" class="confluenceTd">False negative (FP)</td></tr><tr><td colspan="1" class="confluenceTd"><pre>Would you be able to do to the demo at 6:30 AM </pre><pre>or after 5 PM PST tomorrow?</pre></td><td colspan="1" class="confluenceTd"><pre>[[{'datetime': '2019-03-23T06:30:00.000+00:00', </pre><pre>'time': '06:30:00', </pre><pre>'text': 'at 6:30 AM'}, </pre><pre>{'datetime': '2019-03-23T01:00:00.000+00:00', </pre><pre>'time': '01:00:00', </pre><pre>'text': 'after 5 PM PST tomorrow'}]]</pre></td><td colspan="1" class="confluenceTd"><p>Mostly</p><p>true positives (TP)</p></td></tr><tr><td colspan="1" class="confluenceTd"><pre>I shared them via google doc yesterday, did you receive them?</pre></td><td colspan="1" class="confluenceTd"><pre>[[{'datetime': '2019-03-21T00:00:00.000+00:00', </pre><pre>'time': '00:00:00', </pre><pre>'text': 'yesterday'}]]</pre></td><td colspan="1" class="confluenceTd">False positive (FP)</td></tr><tr><td colspan="1" class="confluenceTd"><pre>That’s fantastic.
Can you confirm that this price will be maintained after the first 12 months?</pre></td><td colspan="1" class="confluenceTd"><pre>[[{'datetime': '2019-04-01T00:00:00.000+00:00', </pre><pre>'time': '00:00:00', </pre><pre>'text': 'after the first'}]]</pre></td><td colspan="1" class="confluenceTd">False positive (FP)</td></tr></tbody></table></div><p><br/></p><p>Duckling by itself doesn't do a great job at extracting calendar events. We are building rules and algorithms on top of duckling.</p><p>Sample output:</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Email received</th><th class="confluenceTh">Duckling output</th><th class="confluenceTh">Result (duckling)</th><th class="confluenceTh">New algo output</th><th colspan="1" class="confluenceTh">Result (new algo)</th></tr><tr><td class="confluenceTd"><pre>Hi I spoke to Tanu yesterday to reschedule this call. </pre><pre>Can you do 1pm today UK time?</pre></td><td class="confluenceTd"><pre>[[{'datetime': '2019-03-25T00:00:00.000+00:00',</pre><pre>'time': '00:00:00'</pre><pre>'text': 'yesterday'},</pre><p><br/></p><p>{ 'datetime': '2019-03-26T13:00:00.000+00:00',</p><p>'time': '13:00:00',</p><p>'text': '1pm today UK time'}</p><p>]]</p><p><br/></p></td><td class="confluenceTd">FP and TP</td><td class="confluenceTd"><p>{ 'datetime': '2019-03-26T13:00:00.000+00:00',</p><p>'time': '13:00:00',</p><p>'text': '1pm today UK time'}</p><p>]]</p></td><td colspan="1" class="confluenceTd">TP</td></tr></tbody></table></div><p><br/></p><h3 id="Learningfromemailcontent-NextSteps:">Next Steps:</h3><p>Train algorithms to extract calendar events from a subset of emails containing datetime text identified by duckling. Nextwealth to label these emails.</p><h2 id="Learningfromemailcontent-NERFeature2:Leadenrichmentusingemailsignature">NER Feature 2: Lead enrichment using email signature</h2><h3 id="Learningfromemailcontent-Team.1">Team</h3><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Role</th></tr><tr><td class="confluenceTd">Adarsh Dattatri</td><td class="confluenceTd">Lead Data Scientist</td></tr><tr><td class="confluenceTd">Swami</td><td class="confluenceTd">Lead</td></tr><tr><td colspan="1" class="confluenceTd">Srivatsan</td><td colspan="1" class="confluenceTd">Product Lead</td></tr></tbody></table></div><h3 id="Learningfromemailcontent-Problem:">Problem:</h3><p>Enriching lead information by NER on email signatures.</p><p><span style="font-size: 16.0px;font-weight: bold;letter-spacing: 0.0px;">Solution:</span></p><p>TBD</p><h2 id="Learningfromemailcontent-Identifypartsofincomingemailthatarepredictiveofdealwin">Identify parts of incoming email that are predictive of deal win</h2><h3 id="Learningfromemailcontent-Team.2">Team</h3><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Role</th></tr><tr><td class="confluenceTd">Adarsh Dattatri</td><td class="confluenceTd">Lead Data Scientist</td></tr><tr><td class="confluenceTd">Rahul Kumar Sharma</td><td class="confluenceTd">Senior Data Scientist</td></tr><tr><td class="confluenceTd">Vishal Gupta</td><td class="confluenceTd">Intern</td></tr><tr><td colspan="1" class="confluenceTd">Swami</td><td colspan="1" class="confluenceTd">Lead</td></tr><tr><td colspan="1" class="confluenceTd">Srivatsan</td><td colspan="1" class="confluenceTd">Product Lead</td></tr></tbody></table></div><h3 id="Learningfromemailcontent-Problem:.1">Problem:</h3><p>Identify parts of incoming email that are predictive of deal win as a feature and use it as:</p><ol><li>Better insights for deal scores</li><li>Improve accuracy of deal scores</li><li>Detect email sentiment and display it alongside emails</li><li>Highlight important phrases/sentences in emails</li></ol><h3 id="Learningfromemailcontent-Samples:">Samples:</h3><div class="table-wrap"><table class="relative-table confluenceTable" style="width: 969.0px;"><colgroup><col style="width: 0.0px;"/><col style="width: 0.0px;"/></colgroup><tbody><tr><th class="confluenceTh">Email</th><th class="confluenceTh">Sentiment <br/>(towards Deal Closure)</th></tr><tr><td class="confluenceTd"><span style="color: rgb(32,33,36);">We're </span><strong>still interested in demoing freshsales</strong><span style="color: rgb(32,33,36);"> to the whole team. What times are you available this week? </span></td><td class="confluenceTd">Positive</td></tr><tr><td class="confluenceTd"><span style="color: rgb(32,33,36);">We are just experiencing some difficulties on our end with getting the packing right and need another few weeks. If you can </span><strong>give us another month for free</strong><span style="color: rgb(32,33,36);"> and the discount </span><strong>ill sign up today</strong><span style="color: rgb(32,33,36);">.</span></td><td class="confluenceTd">Positive</td></tr><tr><td class="confluenceTd"><p><span style="color: rgb(32,33,36);"><a href="mailto:alejandro@alohassandals.com" class="external-link" rel="nofollow">alejandro@alohassandals.com</a> </span><strong>has accepted this invitation</strong><span style="color: rgb(32,33,36);">.</span></p><span style="color: rgb(32,33,36);">Freshsales Discussion with Alejandro <br/>Hi there, Deivanai Annamalai is inviting you to a scheduled Zoom meeting</span></td><td class="confluenceTd">Positive</td></tr><tr><td class="confluenceTd"><p>You can confirm 11 agents for now and <strong>we will go with the Estate plan</strong>. Jithin'</p></td><td class="confluenceTd">Positive</td></tr><tr><td class="confluenceTd"><span style="color: rgb(32,33,36);">Sorry for not responding earlier to calls and email. We are in a very busy period and </span><strong>haven't had a chance to focus on this system</strong><span style="color: rgb(32,33,36);"> to any great degree. Once we have a little breathing space I will be in touch regarding your solution </span></td><td class="confluenceTd">Negative</td></tr><tr><td class="confluenceTd"><span style="color: rgb(32,33,36);">Apologies but neither of us have had time to look at this further yet. This is a </span><strong>busy period for our business</strong><span style="color: rgb(32,33,36);">. Rather than take up too much of your time, maybe we should look to </span><strong>re-evaluate this in January</strong><span style="color: rgb(32,33,36);"> when schedules should be a little less busy </span></td><td class="confluenceTd">Negative</td></tr><tr><td class="confluenceTd"><span style="color: rgb(32,33,36);">I still </span><strong>didnt get much chance to set up yet</strong><span style="color: rgb(32,33,36);">. I also compare with Salesforce, what is the benefit or </span><strong>difference between your product and Salesforce</strong><span style="color: rgb(32,33,36);">? </span></td><td class="confluenceTd">Negative</td></tr><tr><td colspan="1" class="confluenceTd"><p>I am going to have to run some numbers, but at first glance this still <strong>seems rather expensive</strong> when I think about how much we plan to grow over the new few years.</p></td><td colspan="1" class="confluenceTd">Negative</td></tr></tbody></table></div><h3 id="Learningfromemailcontent-Solution:"><br/>Solution:</h3><p>Currently, training supervised algorithms on parts of email/complete emails with paid wins as labels. The AUC from the basic model on this data is 63%. </p><h3 id="Learningfromemailcontent-NextSteps:.1">Next Steps:</h3><ol><li>The current approach labels the data as per deal closure outcome (paid-wins/loss). NextWealth to tag emails as per their sentiment.</li><li>Improve the model using new tagged data. </li><li>Use a sequence model to capture the context and negation of the emails.</li></ol><p><br/></p><p><br/></p><h4 id="Learningfromemailcontent-"> </h4>