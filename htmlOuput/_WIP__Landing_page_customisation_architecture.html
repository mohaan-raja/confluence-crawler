<h1>Title: [WIP] Landing page customisation architecture</h1><h2 id="id-[WIP]Landingpagecustomisationarchitecture-DBDesign">DB Design</h2><h3 id="id-[WIP]Landingpagecustomisationarchitecture-landing_page_layouts">landing_page_layouts</h3><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 130.0px;"/><col style="width: 151.0px;"/><col style="width: 173.0px;"/><col style="width: 164.0px;"/></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><p>Column name</p></th><th style="text-align: left;" class="confluenceTh"><p>Type</p></th><th colspan="1" style="text-align: left;" class="confluenceTh"><p>Other</p></th><th colspan="1" style="text-align: left;" class="confluenceTh"><p>notes</p></th></tr></thead><tbody><tr><td colspan="1" style="text-align: left;" class="confluenceTd">-</td><td colspan="1" style="text-align: left;" class="confluenceTd"><span>timestamps</span></td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td style="text-align: left;" class="confluenceTd"><p><span style="color: rgb(137,166,175);"><span style="color: rgb(0,51,102);">id</span><br/></span></p></td><td style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" style="text-align: left;" class="confluenceTd">PK auto generated</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><span style="color: rgb(0,51,102);">account_id</span></td><td colspan="1" style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" style="text-align: left;" class="confluenceTd">NOT NULL</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">name</td><td colspan="1" class="confluenceTd">STRING</td><td colspan="1" class="confluenceTd">NOT NULL</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><span style="color: rgb(23,43,77);">module_customization_id</span></td><td colspan="1" style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" style="text-align: left;" class="confluenceTd">NOT NULL</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><span class="inline-comment-marker" data-ref="902c33f4-891e-42c5-a92f-ff4a9f03f392">layout_json</span></td><td colspan="1" style="text-align: left;" class="confluenceTd">TEXT</td><td colspan="1" style="text-align: left;" class="confluenceTd">NOT NULL</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td style="text-align: left;" class="confluenceTd"><span class="inline-comment-marker" data-ref="f1259c41-ec7e-43c4-b4d3-5f4c8ebbf582">header_json</span></td><td style="text-align: left;" class="confluenceTd">TEXT</td><td colspan="1" style="text-align: left;" class="confluenceTd">NOT NULL</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">breadcrumb_json</td><td colspan="1" class="confluenceTd">TEXT</td><td colspan="1" class="confluenceTd">NOT NULL</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">fields_json</td><td colspan="1" class="confluenceTd">TEXT</td><td colspan="1" class="confluenceTd">NOT NULL</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd"><span class="inline-comment-marker" data-ref="b7f1f255-e4e9-4612-b9ce-ef72976f3bb0">creator_id</span></td><td colspan="1" style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd"><span style="color: rgb(23,43,77);">updater_id</span></td><td colspan="1" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd">status</td><td colspan="1" style="text-align: left;" class="confluenceTd">INT</td><td colspan="1" style="text-align: left;" class="confluenceTd">NOT NULL, Default → 0</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr></tbody></table></div><h4 class="auto-cursor-target" id="id-[WIP]Landingpagecustomisationarchitecture-Indexes:">Indexes:</h4><p class="auto-cursor-target"><span style="color: rgb(0,51,102);">account_id</span></p><p class="auto-cursor-target"><span style="color: rgb(0,51,102);">account_id, <span style="color: rgb(23,43,77);">module_customization_id</span></span></p><h3 id="id-[WIP]Landingpagecustomisationarchitecture-layout_role_associations">layout_role_associations</h3><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><p>Column Name</p></th><th style="text-align: left;" class="confluenceTh"><p>TYPE</p></th><th style="text-align: left;" class="confluenceTh"><p>OTHER</p></th><th style="text-align: left;" class="confluenceTh"><p>NOTE</p></th></tr><tr><td colspan="1" class="confluenceTd">-</td><td colspan="1" class="confluenceTd"><span>timestamps</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd">id</td><td style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td style="text-align: left;" class="confluenceTd">PK auto generated</td><td style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">account_id</td><td colspan="1" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" class="confluenceTd">NOT NULL</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">creator_id</td><td colspan="1" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd">role_id</td><td colspan="1" style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" style="text-align: left;" class="confluenceTd">layout_id</td><td colspan="1" style="text-align: left;" class="confluenceTd">BIGINT UNSIGNED</td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><br/></td></tr></tbody></table></div><h4 id="id-[WIP]Landingpagecustomisationarchitecture-Indexes:.1">Indexes:</h4><p>account_id</p><p>account_id, role_id</p><h2 id="id-[WIP]Landingpagecustomisationarchitecture-RESTAPIEndpoints">REST API Endpoints</h2><p class="p1"><span class="inline-comment-marker" data-ref="0014979b-c785-400c-a499-fda5a59c630c">Create Landing page layout - POST /landing_page_layouts</span></p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Request</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: applescript; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">{
  "layout": {
    "name": "Manager Layout",
    "role_ids": [
      1
    ],
    "sections": [
      {
        "name": "lookup section 1",
        "type": 1,
        "position": 1,
        "config_options": {},
        "sections": [],
        "visible": true,
        "caption": "Deals: Related contacts",
        "tooltip": "sample",
        "permissions": {
          "can_be_edited": true,
          "can_be_reordered": true,
		  "can_be_reordered": true,
          "can_be_hidden": false
        }
      },
      {
        "name": "Header section",
        "type": 2,
        "position": 2,
        "config_options": {
          "fields": [
            {
              "id": "aaaa",
              "position": 1
            }
          ]
        },
        "sections": [
          {
            "name": "Tags",
            "type": 3,
            "position": 1,
            "config_options": {},
            "sections": [],
            "visible": true,
            "caption": "Tag section",
            "tooltip": "sample",
            "permissions": {
              "can_be_edited": true,
              "can_be_reordered": true,
			  "can_be_reordered": true,
              "can_be_hidden": false
            }
          },
          {
            "name": "Related contacts",
            "type": 4,
            "position": 2,
            "config_options": {},
            "sections": [],
            "visible": true,
            "caption": "related contacts section",
            "tooltip": "sample",
            "permissions": {
              "can_be_edited": true,
              "can_be_reordered": true,
			  "can_be_reordered": true,
              "can_be_hidden": false
            }
          },
          {
            "name": "Module fields",
            "type": 5,
            "position": 2,
            "config_options": {
              "filter_type": 1,
              "sort_type": 2,
              "fields": [
                {
                  "id": "aaaa",
                  "position": 1
                }
              ]
            },
            "sections": [],
            "visible": true,
            "caption": "module fields section",
            "tooltip": "sample",
            "permissions": {
              "can_be_edited": true,
              "can_be_reordered": true,
			  "can_be_reordered": true,
              "can_be_hidden": false
            }
          }
        ],
        "visible": true,
        "caption": "Header section",
        "tooltip": "sample",
        "permissions": {
          "can_editable": true,
          "sticky": true
        }
      },
      {
        "name": "integrations",
        "type": 6,
        "position": 3,
        "config_options": {},
        "sections": [
          {
            "name": "tickets",
            "type": 7,
            "position": 1,
            "config_options": {},
            "sections": [],
            "visible": true,
            "caption": "ticket section",
            "tooltip": "sample",
            "permissions": {
              "can_be_customized": true,
          	  "can_be_edited": false,
          	  "can_be_reordered": true,
          	  "can_be_hidden": false
            }
          }
        ]
      },
      {
        "name": "slack",
        "type": 7,
        "position": 4,
        "config_options": {},
        "sections": [],
        "visible": true,
        "caption": "slack section",
        "tooltip": "sample",
        "permissions": {
          "can_be_customized": true,
          "can_be_edited": false,
		  "can_be_reordered": true,
          "can_be_hidden": false
        }
      }
    ]
  }
}</pre>
 </div>
</div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Response</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: actionscript3; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">{
  "layout": {
    "id": 1,
    "name": "Manager Layout",
    "role_ids": [
      1
    ],
    "sections": [
      {
        "name": "lookup section 1",
        "type": 1,
        "position": 1,
        "component_options": {
          "form_id": 28937,
          "field_id": "e283201",
          "related_via": "Deals: Related contacts"
        },
        "config_options": {},
        "sections": []
      },
      {
        "name": "Header section",
        "type": 2,
        "position": 2,
        "component_options": {},
        "config_options": {
          "fields": [
            {
              "id": "e283202",
              "position": 1
            }
          ]
        },
        "sections": [
          {
            "name": "Tags",
            "type": 3,
            "position": 1,
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Related contacts",
            "type": 4,
            "position": 2,
            "component": "relaetd_contacts_component",
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Module fields",
            "type": 5,
            "position": 2,
            "component_options": {},
            "config_options": {
              "filter_type": 1,
              "sort_type": 2,
              "fields": [
                {
                  "id": "aaaa",
                  "position": 1
                }
              ]
            },
            "sections": []
          }
        ]
      },
      {
        "name": "integrations",
        "type": 6,
        "position": 3,
        "component_options": {},
        "config_options": {},
        "sections": [
          {
            "name": "tickets",
            "type": 7,
            "position": 1,
            "component": "tickets_component",
            "component_options": {
              "app_id": 1
            },
            "config_options": {},
            "sections": []
          }
        ]
      },
      {
        "name": "slack",
        "type": 7,
        "position": 4,
        "component_options": {
          "app_id": 2
        },
        "config_options": {},
        "sections": []
      }
    ]
  }
}
</pre>
 </div>
</div><p class="p1">Update Landing page layout - PUT /landing_page_layouts/id</p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Request</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: applescript; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">{
  "layout": {
    "id": 1,
    "name": "Manager Layout",
    "role_ids": [
      1
    ],
    "sections": [
      {
        "name": "lookup section 1",
        "type": 1,
        "position": 1,
        "config_options": {},
        "sections": [],
        "visible": true,
        "caption": "Deals: Related contacts",
        "tooltip": "sample",
        "permissions": {
          "can_be_edited": true,
          "can_be_reordered": true
        }
      },
      {
        "name": "Header section",
        "type": 2,
        "position": 2,
        "config_options": {
          "fields": [
            {
              "id": "aaaa",
              "position": 1
            }
          ]
        },
        "sections": [
          {
            "name": "Tags",
            "type": 3,
            "position": 1,
            "config_options": {},
            "sections": [],
            "visible": true,
            "caption": "Tag section",
            "tooltip": "sample",
            "permissions": {
              "can_be_edited": true,
              "can_be_reordered": true
            }
          },
          {
            "name": "Related contacts",
            "type": 4,
            "position": 2,
            "config_options": {},
            "sections": [],
            "visible": true,
            "caption": "related contacts section",
            "tooltip": "sample",
            "permissions": {
              "can_be_edited": true,
              "can_be_reordered": true
            }
          },
          {
            "name": "Module fields",
            "type": 5,
            "position": 2,
            "config_options": {
              "filter_type": 1,
              "sort_type": 2,
              "fields": [
                {
                  "id": "aaaa",
                  "position": 1
                }
              ]
            },
            "sections": [],
            "visible": true,
            "caption": "module fields section",
            "tooltip": "sample",
            "permissions": {
              "can_be_edited": true,
              "can_be_reordered": true
            }
          }
        ],
        "visible": true,
        "caption": "Header section",
        "tooltip": "sample",
        "permissions": {
          "can_editable": true,
          "sticky": true
        }
      },
      {
        "name": "integrations",
        "type": 6,
        "position": 3,
        "config_options": {},
        "sections": [
          {
            "name": "tickets",
            "type": 7,
            "position": 1,
            "config_options": {},
            "sections": [],
            "visible": true,
            "caption": "ticket section",
            "tooltip": "sample",
            "permissions": {
              "can_be_customized": true,
          	  "can_be_edited": false,
          	  "can_be_reordered": true,
          	  "can_be_hidden": false
            }
          }
        ]
      },
      {
        "name": "slack",
        "type": 7,
        "position": 4,
        "config_options": {},
        "sections": [],
        "visible": true,
        "caption": "slack section",
        "tooltip": "sample",
        "permissions": {
          "can_be_customized": true,
          "can_be_edited": false,
		  "can_be_reordered": true,
          "can_be_hidden": false
        }
      }
    ]
  }
}</pre>
 </div>
</div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Response</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: actionscript3; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">{
  "layout": {
    "id": 1,
    "name": "Manager Layout",
    "role_ids": [
      1
    ],
    "sections": [
      {
        "name": "lookup section 1",
        "type": 1,
        "position": 1,
        "component_options": {
          "form_id": 28937,
          "field_id": "e283201",
          "related_via": "Deals: Related contacts"
        },
        "config_options": {},
        "sections": []
      },
      {
        "name": "Header section",
        "type": 2,
        "position": 2,
        "component_options": {},
        "config_options": {
          "fields": [
            {
              "id": "e283202",
              "position": 1
            }
          ]
        },
        "sections": [
          {
            "name": "Tags",
            "type": 3,
            "position": 1,
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Related contacts",
            "type": 4,
            "position": 2,
            "component": "relaetd_contacts_component",
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Module fields",
            "type": 5,
            "position": 2,
            "component_options": {},
            "config_options": {
              "filter_type": 1,
              "sort_type": 2,
              "fields": [
                {
                  "id": "aaaa",
                  "position": 1
                }
              ]
            },
            "sections": []
          }
        ]
      },
      {
        "name": "integrations",
        "type": 6,
        "position": 3,
        "component_options": {},
        "config_options": {},
        "sections": [
          {
            "name": "tickets",
            "type": 7,
            "position": 1,
            "component": "tickets_component",
            "component_options": {
              "app_id": 1
            },
            "config_options": {},
            "sections": []
          }
        ]
      },
      {
        "name": "slack",
        "type": 7,
        "position": 4,
        "component_options": {
          "app_id": 2
        },
        "config_options": {},
        "sections": []
      }
    ]
  }
}
</pre>
 </div>
</div><p class="p1">Get a landing page layout - GET /landing_page_layouts/id</p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Response</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: actionscript3; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">{
  "layout": {
    "id": 1,
    "name": "Manager Layout",
    "role_ids": [
      1
    ],
    "sections": [
      {
        "name": "lookup section 1",
        "type": 1,
        "position": 1,
        "component_options": {
          "form_id": 28937,
          "field_id": "e283201",
          "related_via": "Deals: Related contacts"
        },
        "config_options": {},
        "sections": []
      },
      {
        "name": "Header section",
        "type": 2,
        "position": 2,
        "component_options": {},
        "config_options": {
          "fields": [
            {
              "id": "e283202",
              "position": 1
            }
          ]
        },
        "sections": [
          {
            "name": "Tags",
            "type": 3,
            "position": 1,
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Related contacts",
            "type": 4,
            "position": 2,
            "component": "relaetd_contacts_component",
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Module fields",
            "type": 5,
            "position": 2,
            "component_options": {},
            "config_options": {
              "filter_type": 1,
              "sort_type": 2,
              "fields": [
                {
                  "id": "aaaa",
                  "position": 1
                }
              ]
            },
            "sections": []
          }
        ]
      },
      {
        "name": "integrations",
        "type": 6,
        "position": 3,
        "component_options": {},
        "config_options": {},
        "sections": [
          {
            "name": "tickets",
            "type": 7,
            "position": 1,
            "component": "tickets_component",
            "component_options": {
              "app_id": 1
            },
            "config_options": {},
            "sections": []
          }
        ]
      },
      {
        "name": "slack",
        "type": 7,
        "position": 4,
        "component_options": {
          "app_id": 2
        },
        "config_options": {},
        "sections": []
      }
    ]
  }
}
</pre>
 </div>
</div><p class="p1">Delete Landing page layout - DELETE /landing_page_layouts/id</p><p class="p1">List of Layout - GET /landing_page_layouts</p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Response</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: applescript; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">[
  {
    "id": 1,
    "name": "Manager layout lead",
	"creator_id": 2,
    "role_ids": [
      1,2,3
    ]
  },
  {
    "id": 2,
    "name": "Manager layout deal",
	"creator_id": 5,
    "role_ids": [
      1,2
    ]
  },
  {
    "id": 3,
    "name": "Agent layout lead",
	"creator_id": 2,
    "role_ids": [
      5
    ]
  },
  {
    "id": 4,
    "name": "Agent layout deal",
	"creator_id": 5,
    "role_ids": [
      5
    ]
  }
]</pre>
 </div>
</div><p class="p1">List of Layouts for an entity <span class="inline-comment-marker" data-ref="11f750c7-f6df-4f58-88fd-496b15794152">- GET /<span style="color: rgb(23,43,77);">module_customizations/id/</span><span style="color: rgb(23,43,77);">landing_page_layouts</span></span></p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Response</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: actionscript3; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">[
  {
    "id": 1,
    "name": "Manager layout lead",
    "role_ids": [
      1,2,3
    ]
  },
  {
    "id": 3,
    "name": "Agent layout lead",
    "role_ids": [
      5
    ]
  }
]</pre>
 </div>
</div><p class="p1">Get landing page layout for a role - GET /roles/id/landing_page_layout<span style="color: rgb(23,43,77);">?module_customization_id=id</span></p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Response</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: actionscript3; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">{
  "layout": {
    "id": 1,
    "name": "Manager Layout",
    "sections": [
      {
        "name": "lookup section 1",
        "type": 1,
        "position": 1,
        "component_options": {
          "form_id": 28937,
          "field_id": "e283201",
          "related_via": "Deals: Related contacts"
        },
        "config_options": {},
        "sections": []
      },
      {
        "name": "Header section",
        "type": 2,
        "position": 2,
        "component_options": {},
        "config_options": {
          "fields": [
            {
              "id": "e283202",
              "position": 1
            }
          ]
        },
        "sections": [
          {
            "name": "Tags",
            "type": 3,
            "position": 1,
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Related contacts",
            "type": 4,
            "position": 2,
            "component": "relaetd_contacts_component",
            "component_options": {},
            "config_options": {},
            "sections": []
          },
          {
            "name": "Module fields",
            "type": 5,
            "position": 2,
            "component_options": {},
            "config_options": {
              "filter_type": 1,
              "sort_type": 2,
              "fields": [
                {
                  "id": "aaaa",
                  "position": 1
                }
              ]
            },
            "sections": []
          }
        ]
      },
      {
        "name": "integrations",
        "type": 6,
        "position": 3,
        "component_options": {},
        "config_options": {},
        "sections": [
          {
            "name": "tickets",
            "type": 7,
            "position": 1,
            "component": "tickets_component",
            "component_options": {
              "app_id": 1
            },
            "config_options": {},
            "sections": []
          }
        ]
      },
      {
        "name": "slack",
        "type": 7,
        "position": 4,
        "component_options": {
          "app_id": 2
        },
        "config_options": {},
        "sections": []
      }
    ]
  }
}
</pre>
 </div>
</div><p class="p1">Update layout for roles - PUT /roles/id/landing_page_layout</p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Request</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Expand source</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: actionscript3; gutter: false; theme: Midnight; collapse: true" data-theme="Midnight">[
  {
    "module_customization_id": 1,
    "layout_id": 12
  },
  {
    "module_customization_id": 2,
    "layout_id": 13
  }
]</pre>
 </div>
</div><h3 class="p1" id="id-[WIP]Landingpagecustomisationarchitecture-InitialMigration:">Initial Migration:</h3><p class="p1">During <span class="inline-comment-marker" data-ref="e49630a4-7fbf-407e-8892-65a7a2964b8d">initial migration</span>, we would be creating default layout for all accounts. The default layout will be seeded with the following data:</p><ol><li class="p1">Default layout sections like tags, module fields regardless of whether an account has access to a feature (Eg. Tags is available only from blossom)</li><li>Marketplace Integrations for the account</li><li class="p1">List of lookups configured for an account</li></ol><h3 class="p1" id="id-[WIP]Landingpagecustomisationarchitecture-Updatesonlayout:"><strong>Updates on layout:</strong></h3><p class="p1">We would be having callbacks for updating layout in the following scenarios:</p><ol><li class="p1">Marketplace integration installed/uninstalled</li><li class="p1">Lookup fields added/deleted</li><li class="p1">Fields added/deleted</li></ol><h3 id="id-[WIP]Landingpagecustomisationarchitecture-Newsectionsaddedtolayout:"><strong>New sections added to layout:</strong></h3><p>We would need to run a rake task to add new sections to the layout. This might be time consuming, since we to parse the JSON to add the new sections. We might need to add new tables for the layout in future, as the layout JSON becomes more complex.</p><h3 id="id-[WIP]Landingpagecustomisationarchitecture-PlanDowngrade"><strong><span class="inline-comment-marker" data-ref="f7c15a83-3c45-471b-ba1b-d21635e8f3bf">Plan Downgrade</span></strong></h3><p>On plan downgrade, we would be moving all the roles to the default layout. There would a cleanup run to remove all the custom layouts after a certain period of time.(Time not yet finalised).</p><p><br/></p><p><br/></p><p><br/></p><p><br/></p>