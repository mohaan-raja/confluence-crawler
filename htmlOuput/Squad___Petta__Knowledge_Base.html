<h1>Title: Squad - Petta: Knowledge Base</h1><p><strong>Goal:</strong></p><p>To document FAQ as L2 queries and relative answers for the same to help the support team.</p><p><strong>Squad's Scope: (Modules covered)</strong></p><p class="p1"><span class="s1">Events, Roles and Scopes, Notifications, Audit log, Timeline Feeds, Web forms, CPQ</span></p><p class="p1"><br/></p><p class="p1"><strong>Knowledge Base:</strong></p><p class="p1"><u><strong>Smartform</strong></u></p><p class="p1"><br/></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 96.375%;"><colgroup><col style="width: 28.0337%;"/><col style="width: 29.1369%;"/><col style="width: 42.8293%;"/></colgroup><tbody><tr><th class="confluenceTh">Module</th><th class="confluenceTh">Query</th><th class="confluenceTh">Checkpoints to check</th></tr><tr><td class="confluenceTd">Segment Integration</td><td class="confluenceTd"><span style="color: rgb(24,50,71);">lead/contact is not created through Segment, though the response code is 200 in segment.</span></td><td class="confluenceTd"><ol><li>Segment will return always 200 but need to check the response code in the body.</li><li>User_Id the a mandatory field, if we dont send user_id field in the request payload from segment then the entity wonnt be created in freshsales.</li><li>The entity details in the  request payload should be in traits hash otherwise the entity wont be created.</li></ol><p>Example payload:</p><p><code class="c-mrkdwn__code" style="text-align: left;">{</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;traits&quot;: {</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;cf_appointment_count&quot;: null,</code><br style="text-align: left;"/><code class="c-mrkdwn__code c-mrkdwn__code--no_right_cap" style="text-align: left;">&quot;email&quot;: &quot;</code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap c-mrkdwn__code--no_right_cap" style="text-align: left;"><a style="text-decoration: none;" href="mailto:contact123testnaveen@gmail.com" class="external-link" rel="nofollow">email@email.com</a></code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap" style="text-align: left;">&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code c-mrkdwn__code--no_right_cap" style="text-align: left;">&quot;emails&quot;: &quot;</code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap c-mrkdwn__code--no_right_cap" style="text-align: left;"><a class="external-link" href="mailto:contact123testnaveen@gmail.com" style="text-decoration: none;" rel="nofollow">email@email.com</a></code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap" style="text-align: left;">&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;first_name&quot;: &quot;contacttest&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;fs_contact&quot;: true,</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;last_name&quot;: &quot;test&quot;</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">},</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;type&quot;: &quot;identify&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code c-mrkdwn__code--no_right_cap" style="text-align: left;">&quot;user_id&quot;: &quot;</code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap c-mrkdwn__code--no_right_cap" style="text-align: left;"><a class="external-link" style="text-decoration: none;" href="mailto:contact123testnaveen@gmail.com" rel="nofollow">email@email.com</a></code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap" style="text-align: left;">&quot;</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">}</code></p></td></tr><tr><td class="confluenceTd">Segment Integration</td><td class="confluenceTd"><p>Customer is trying to install &quot;segment&quot; app from freshsales marketplace and getting this error : &quot;This enable button is no longer supported&quot;.</p></td><td class="confluenceTd"><p>We are facing an issue to integrate segment through freshsales, so. as workaround we can  configure freshsales in segment.</p><p>Configure freshsales -&gt;<br/>API Token as the api key of the users and<br/>give Freshsales Subdomain. For example if freshsales domain is <a href="http://test.freshsales.io" class="external-link" rel="nofollow">test.freshsales.io</a> then give 'test' as subdomain value in segment. </p><p><br/></p></td></tr><tr><td colspan="1" class="confluenceTd">Notofication</td><td colspan="1" class="confluenceTd">The owner is not receiving </td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 98.375%;"><colgroup><col style="width: 4.83153%;"/><col style="width: 25.3655%;"/><col style="width: 43.2931%;"/><col style="width: 26.5099%;"/></colgroup><tbody><tr><th class="confluenceTh">S.No</th><th class="confluenceTh">Issue Description</th><th colspan="1" class="confluenceTh">Solution</th><th colspan="1" class="confluenceTh">L2 Ticket (Ref)</th></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd"><span style="color: rgb(24,50,71);">Smart form not creating leads due to embedding the form inside Iframe tag - 4421475</span></td><td colspan="1" class="confluenceTd"><p>Scripts can be added inside the iframe itself or the form needs to be moved out of the iframe.</p></td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4421475" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4421475</a></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd">Leads get captured despite validation error in customer's in-house form</td><td colspan="1" class="confluenceTd">Turn off auto capture in the installation scripts and let the customer trigger lead capture event manually using freshsales.identify() only when form validation is successful</td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4441529" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4441529</a></td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd">Customer wants to capture password field during signup for use in a subsequent workflow which creates user accounts in his system. Customer doesn't want the password field to be visible in the CRM</td><td colspan="1" class="confluenceTd">Field permission feature lets the admin to hide certain fields and hence password field can be hidden that way. Once this feature goes GA, the customer can then hide the password field</td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4642642" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4642642</a></td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd"><p>Spam Leads getting created even thought the fields are required in the website</p></td><td colspan="1" class="confluenceTd">In Backend we do not handle required fields validation </td><td colspan="1" class="confluenceTd"><p><a href="https://support.freshdesk.com/a/tickets/4931803" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4931803</a></p></td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,51,51);">Smart form has been installed in </span><span style="color: rgb(51,51,51);"><a style="text-decoration: none;" href="https://www.shophermedia.com/find-out-more.php?utm_source=test-source&amp;utm_medium=test-medium&amp;utm_campaign=test-campaign&amp;utm_content=test-content&amp;utm_term=test-term" class="external-link" rel="nofollow">t</a>he web</span><span style="color: rgb(51,51,51);">page but the s</span><span style="color: rgb(34,34,34);">ource seems alternate between Referral or Web</span></td><td colspan="1" class="confluenceTd">Expected behaviour<br/><p>when creating the first session of the user we will store the utm_source, utm_campaign, utm_medium as source, medium, campaign for the session and the cookie will be stored in the browser and then whenever the user fills out the form the lead will be created with source, medium, campaign of the first session.</p><p>So in this case the customer who fills out the form has the first session created source as referral. so whenever he creates a lead through smartform the lead will be created with source as referral. same goes for medium.<br/><br/>If he tries to  create a lead through smartform in private mode of the browser then he will get the referral as web which is default.</p><br/><br/></td><td colspan="1" class="confluenceTd"><a href="https://freshsalesdev.freshdesk.com/a/tickets/44" class="external-link" rel="nofollow">https://freshsalesdev.freshdesk.com/a/tickets/44</a></td></tr></tbody></table></div><p class="auto-cursor-target"><u><strong>Classic webform</strong></u></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.0625%;"><colgroup><col style="width: 5.36616%;"/><col style="width: 24.4949%;"/><col style="width: 43.6237%;"/><col style="width: 26.5152%;"/></colgroup><tbody><tr><th class="confluenceTh">S.No</th><th class="confluenceTh">Issue Description</th><th class="confluenceTh">Solution</th><th class="confluenceTh">L2 Ticket (Ref)</th></tr><tr><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd">4 independent forms present in customer's website and only the last form is captured</td><td colspan="1" class="confluenceTd">Combine all 4 forms into one big single form with subsections or place email address field in the first form and mark all buttons within forms with id as &quot;submit&quot;</td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4399295" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4399295</a></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd">Lead/Contact is getting create when the classic form is submitted with spaces.</td><td colspan="1" class="confluenceTd">We have to restrict to create lead/contacts when the mandatory field is sent with empty spaces.</td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4575043" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4575043</a></td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd"><span style="color: rgb(24,50,71);">webforms right to left language format support</span></td><td colspan="1" class="confluenceTd">A temporary css styles snippet provided to support left to right Hebrew language.</td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4845153" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4845153</a></td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd"><p>Spam Leads getting created even thought the fields are required in the website</p></td><td colspan="1" class="confluenceTd">In Backend we do not handle required fields validation </td><td colspan="1" class="confluenceTd"><p><a href="https://support.freshdesk.com/a/tickets/4931803" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4931803</a></p></td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd">Removing <strong>powered by freshsales </strong>in classic webform</td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p class="auto-cursor-target"><strong style="letter-spacing: 0.0px;">.fserv-container div.powered-by { display: none !important ;} </strong>add this to the css file</p></div></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd">Issue with notification when lead/contact is created via classic form </td><td colspan="1" class="confluenceTd">Notification in freshsales will be triggered only when the classic form creator and the owner assigned to the lead/contact are different.</td><td colspan="1" class="confluenceTd"><a href="https://freshsalesdev.freshdesk.com/a/tickets/1452" class="external-link" rel="nofollow">https://freshsalesdev.freshdesk.com/a/tickets/1452</a></td></tr></tbody></table></div><p class="auto-cursor-target"><u><strong>Segment Integration</strong></u></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.625%;"><colgroup><col style="width: 5.27307%;"/><col style="width: 24.4193%;"/><col style="width: 43.189%;"/><col style="width: 27.1186%;"/></colgroup><tbody><tr><th class="confluenceTh">S.No</th><th class="confluenceTh">Issue Description</th><th class="confluenceTh">Solution</th><th class="confluenceTh">L2 Ticket (Ref)</th></tr><tr><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><p><span style="color: rgb(24,50,71);">Segment identify Issue - 500 internal error, contact is not created</span></p><p><span style="color: rgb(24,50,71);">As there are multiple company names with same, FS tries to create duplicate entries which throws 500 error.</span></p></td><td colspan="1" class="confluenceTd">A fix is pushed on 10/30, to ignore the company names other than inside the company hash.</td><td colspan="1" class="confluenceTd"><p><a href="https://support.freshdesk.com/a/tickets/4765663" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4765663</a></p></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><span style="color: rgb(24,50,71);">lead/contact is not created through Segment</span></td><td colspan="1" class="confluenceTd"><p>user_id is a mandatory filed. as we use them as identifier</p><p>example payload: </p><p><code class="c-mrkdwn__code" style="text-align: left;">{</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;traits&quot;: {</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;cf_appointment_count&quot;: null,</code><br style="text-align: left;"/><code class="c-mrkdwn__code c-mrkdwn__code--no_right_cap" style="text-align: left;">&quot;email&quot;: &quot;</code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap c-mrkdwn__code--no_right_cap" style="text-align: left;"><a class="external-link" href="mailto:contact123testnaveen@gmail.com" style="text-decoration: none;" rel="nofollow">email@email.com</a></code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap" style="text-align: left;">&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code c-mrkdwn__code--no_right_cap" style="text-align: left;">&quot;emails&quot;: &quot;</code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap c-mrkdwn__code--no_right_cap" style="text-align: left;"><a class="external-link" style="text-decoration: none;" href="mailto:contact123testnaveen@gmail.com" rel="nofollow">email@email.com</a></code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap" style="text-align: left;">&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;first_name&quot;: &quot;contacttest&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;fs_contact&quot;: true,</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;last_name&quot;: &quot;test&quot;</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">},</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">&quot;type&quot;: &quot;identify&quot;,</code><br style="text-align: left;"/><code class="c-mrkdwn__code c-mrkdwn__code--no_right_cap" style="text-align: left;">&quot;user_id&quot;: &quot;</code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap c-mrkdwn__code--no_right_cap" style="text-align: left;"><a style="text-decoration: none;" class="external-link" href="mailto:contact123testnaveen@gmail.com" rel="nofollow">email@email.com</a></code><code class="c-mrkdwn__code c-mrkdwn__code--no_left_cap" style="text-align: left;">&quot;</code><br style="text-align: left;"/><code class="c-mrkdwn__code" style="text-align: left;">}</code></p></td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/6405445" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/6405445</a></td></tr></tbody></table></div><p><br/></p><p><u><strong>Roles and Scopes</strong></u></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.9375%;"><colgroup><col style="width: 5.25657%;"/><col style="width: 24.2178%;"/><col style="width: 43.0538%;"/><col style="width: 27.4718%;"/></colgroup><tbody><tr><th class="confluenceTh">S.No</th><th class="confluenceTh">Issue Description</th><th class="confluenceTh">Solution</th><th class="confluenceTh">L2 Ticket (Ref)</th></tr><tr><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd">Manage webforms not visible to customer in Settings with Manager role</td><td colspan="1" class="confluenceTd">Only administrators and account administrators can manage webforms in default roles. One work around is cloning the roles from Admin roles will give webform access.</td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/4340818" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/4340818</a><br/><a href="https://freshsalesdev.freshdesk.com/a/tickets/695" class="external-link" rel="nofollow">https://freshsalesdev.freshdesk.com/a/tickets/695</a></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><p><span style="color: rgb(57,52,75);">User is in the Blossom plan. The User is trying to Edit the &quot;Roles&quot;. The Restricted user role is having &quot;GLOBAL ACCESS&quot;, which is not supposed to be the case. The user is trying to change it to &quot;Restricted access&quot; - and he's thrown with a error message</span></p></td><td colspan="1" class="confluenceTd"><span style="color: rgb(57,52,75);">Wrote script to change access to RESTRICTED from GLOBAL</span></td><td colspan="1" class="confluenceTd"><a href="https://support.freshdesk.com/a/tickets/5568776" class="external-link" rel="nofollow">https://support.freshdesk.com/a/tickets/5568776</a></td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd">Owner field is read-only </td><td colspan="1" class="confluenceTd"><span style="color: rgb(24,50,71);">&quot;Assign records&quot; access has to be enabled for any module, In order to make sales owner field editable for users of any Role</span></td><td colspan="1" class="confluenceTd"><a href="https://freshsalesdev.freshdesk.com/a/tickets/4120" class="external-link" rel="nofollow">https://freshsalesdev.freshdesk.com/a/tickets/4120</a></td></tr></tbody></table></div><p><br/></p><p class="auto-cursor-target"><u><strong>Recent Activity</strong></u></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 5.25328%;"/><col style="width: 23.9525%;"/><col style="width: 43.5272%;"/><col style="width: 27.267%;"/></colgroup><tbody><tr><th class="confluenceTh">S.No</th><th class="confluenceTh">Issue Description</th><th class="confluenceTh">Solution</th><th class="confluenceTh">L2 Ticket (Ref)</th></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div>